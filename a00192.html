<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>HyPar: src/IOFunctions/WriteArray.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HyPar
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Finite-Difference Hyperbolic-Parabolic PDE Solver on Cartesian Grids</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00192.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">WriteArray.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Write a vector field, stored as an array, to file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;<a class="el" href="a00105_source.html">basic.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="a00104_source.html">arrayfunctions.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="a00091_source.html">mpivars.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="a00108_source.html">hypar.h</a>&gt;</code><br />
</div>
<p><a href="a00192_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a62e3430c806c874df7b65e9ba3da95c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00192.html#a62e3430c806c874df7b65e9ba3da95c7">WriteArraySerial</a> (int, int, int *, int *, int, double *, double *, void *, void *, char *)</td></tr>
<tr class="separator:a62e3430c806c874df7b65e9ba3da95c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1548f4cea5254257d93790952941c351"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00192.html#a1548f4cea5254257d93790952941c351">WriteArrayParallel</a> (int, int, int *, int *, int, double *, double *, void *, void *, char *)</td></tr>
<tr class="separator:a1548f4cea5254257d93790952941c351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39266090467a28f626638e7bfc9957e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00192.html#a39266090467a28f626638e7bfc9957e2">WriteArray</a> (int ndims, int nvars, int *dim_global, int *dim_local, int ghosts, double *x, double *u, void *s, void *m, char *fname_root)</td></tr>
<tr class="separator:a39266090467a28f626638e7bfc9957e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Write a vector field, stored as an array, to file. </p>
<dl class="section author"><dt>Author</dt><dd>Debojyoti Ghosh Contains functions to write out a vector field, stored as an array to a file. </dd></dl>

<p>Definition in file <a class="el" href="a00192_source.html">WriteArray.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a62e3430c806c874df7b65e9ba3da95c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int WriteArraySerial </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nvars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dim_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dim_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ghosts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fname_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function to write out a vector field, stored as an array, and its associated Cartesian grid to a file in serial mode. It will allocate the global domain on rank 0, so do not use for big problems for which the entire global domain will not fit on one node. This approach is also not very scalable.</p><ul>
<li>Supports binary and ASCII formats (specified through <a class="el" href="a00089.html#a51a3b8c19b86e9e1df5be02b05a6613c">HyPar::op_file_format</a>).</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00109.html#a067f454c26d85d6cfb4d7d878b3783c9">WriteBinary()</a>, <a class="el" href="a00109.html#a3355a71faf3d87f6715ad627db08ac9e">WriteText()</a>, <a class="el" href="a00109.html#a265b0583afb79edd2f2f5d5087e5c3bf">WriteTecplot2D()</a>, <a class="el" href="a00109.html#a5bdb048ecc5ae7ab61622e4764f3133e">WriteTecplot3D()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndims</td><td>Number of spatial dimensions </td></tr>
    <tr><td class="paramname">nvars</td><td>Number of variables per grid point </td></tr>
    <tr><td class="paramname">dim_global</td><td>Integer array of size ndims with global grid size in each dimension </td></tr>
    <tr><td class="paramname">dim_local</td><td>Integer array of size ndims with local grid size in each dimension </td></tr>
    <tr><td class="paramname">ghosts</td><td>Number of ghost points </td></tr>
    <tr><td class="paramname">x</td><td>Array of spatial coordinates (i.e. the grid) </td></tr>
    <tr><td class="paramname">u</td><td>Vector field to write </td></tr>
    <tr><td class="paramname">s</td><td>Solver object of type <a class="el" href="a00089.html" title="Structure containing all solver-specific variables and functions. ">HyPar</a> </td></tr>
    <tr><td class="paramname">m</td><td>MPI object of type <a class="el" href="a00091.html#a00403" title="Structure of MPI-related variables. ">MPIVariables</a> </td></tr>
    <tr><td class="paramname">fname_root</td><td>Filename root (extension is added automatically). For unsteady output, a numerical index is added that is the same as for the solution output files. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00192_source.html#l00074">74</a> of file <a class="el" href="a00192_source.html">WriteArray.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="a00089.html">HyPar</a>         *solver = (<a class="code" href="a00089.html">HyPar</a>*)       s;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="a00091.html#a00403">MPIVariables</a>  *mpi    = (<a class="code" href="a00091.html#a00403">MPIVariables</a>*)m;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">int</span>           d;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="a00105.html#a68f50121fb9a7daeaf60e50cdef82ef3">_DECLARE_IERR_</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">/* root process: allocate global output arrays */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">double</span> *ug, *xg;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (!mpi-&gt;<a class="code" href="a00091.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">int</span> size_global;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    size_global = 1;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">for</span> (d=0; d&lt;ndims; d++) size_global *= dim_global[d];</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    ug = (<span class="keywordtype">double</span>*) calloc (size_global*nvars,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="a00104.html#a2b2826031c0cd92495ab351d3e599fc5">_ArraySetValue_</a>(ug,size_global*nvars,0.0);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    size_global = 0;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">for</span> (d=0; d&lt;ndims; d++) size_global += dim_global[d];</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    xg = (<span class="keywordtype">double</span>*) calloc (size_global,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="a00104.html#a2b2826031c0cd92495ab351d3e599fc5">_ArraySetValue_</a>(xg,size_global,0.0); <a class="code" href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a>(ierr);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">/* null pointers on non-root processes */</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    ug = xg = NULL;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">/* Assemble the local output arrays into the global output arrays */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a> <a class="code" href="a00091.html#a4cea2f7d5b8d6fad35c84c59da86631a">MPIGatherArraynD</a>(ndims,mpi,ug,u,dim_global,dim_local,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        ghosts,nvars);  <a class="code" href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a>(ierr);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">int</span> offset_global, offset_local;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  offset_global = offset_local = 0;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">for</span> (d=0; d&lt;ndims; d++) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a> <a class="code" href="a00091.html#ac4c9e0736d7419f96307c6e6298d3f45">MPIGatherArray1D</a>(mpi,(mpi-&gt;<a class="code" href="a00091.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>?NULL:&amp;xg[offset_global]),</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                            &amp;x[offset_local+ghosts],</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                            mpi-&gt;<a class="code" href="a00091.html#a481013ba007a99a4237cde5eeb3c9a29">is</a>[d],mpi-&gt;<a class="code" href="a00091.html#a7602de5ebb1b59ec35217e78a35a531e">ie</a>[d],dim_local[d],0); <a class="code" href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a>(ierr);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    offset_global += dim_global[d];</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    offset_local  += dim_local [d] + 2*ghosts;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span> (!mpi-&gt;<a class="code" href="a00091.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">/* write output file to disk */</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">char</span> filename[<a class="code" href="a00105.html#a51efea86a4d76d1259893f606b776573">_MAX_STRING_SIZE_</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    strcat(filename,fname_root);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (!strcmp(solver-&gt;<a class="code" href="a00089.html#a4e93cb107e180ef982b74cef7726b70f">op_overwrite</a>,<span class="stringliteral">&quot;no&quot;</span>)) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      strcat(filename,<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      strcat(filename,solver-&gt;<a class="code" href="a00089.html#a0805db42e429173752189696c3c96909">filename_index</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    strcat(filename,solver-&gt;<a class="code" href="a00089.html#a25f6a0c8fded2ee6bd9593c737bc3a51">solnfilename_extn</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    printf(<span class="stringliteral">&quot;Writing solution file %s.\n&quot;</span>,filename);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a> solver-&gt;<a class="code" href="a00089.html#a860eb760680191b057e06768287554be">WriteOutput</a>(ndims,nvars,dim_global,xg,ug,filename,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                             solver-&gt;<a class="code" href="a00089.html#a95e9e0f8a692321b83a2e0ce2789c485">index</a>); <a class="code" href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a>(ierr);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">/* Clean up output arrays */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    free(xg);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    free(ug);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="ttc" id="a00105_html_a51efea86a4d76d1259893f606b776573"><div class="ttname"><a href="a00105.html#a51efea86a4d76d1259893f606b776573">_MAX_STRING_SIZE_</a></div><div class="ttdeci">#define _MAX_STRING_SIZE_</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00007">basic.h:7</a></div></div>
<div class="ttc" id="a00105_html_add9cf96ae374934d245a1dc1ab697a42"><div class="ttname"><a href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a></div><div class="ttdeci">#define CHECKERR(ierr)</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00011">basic.h:11</a></div></div>
<div class="ttc" id="a00091_html_a00403"><div class="ttname"><a href="a00091.html#a00403">MPIVariables</a></div><div class="ttdoc">Structure of MPI-related variables. </div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00021">mpivars.h:21</a></div></div>
<div class="ttc" id="a00089_html_a860eb760680191b057e06768287554be"><div class="ttname"><a href="a00089.html#a860eb760680191b057e06768287554be">HyPar::WriteOutput</a></div><div class="ttdeci">int(* WriteOutput)(int, int, int *, double *, double *, char *, int *)</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00176">hypar.h:176</a></div></div>
<div class="ttc" id="a00091_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="a00091.html#a6cfd95afd0afebd625b889fb6e58371c">MPIVariables::rank</a></div><div class="ttdeci">int rank</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00022">mpivars.h:22</a></div></div>
<div class="ttc" id="a00091_html_a4cea2f7d5b8d6fad35c84c59da86631a"><div class="ttname"><a href="a00091.html#a4cea2f7d5b8d6fad35c84c59da86631a">MPIGatherArraynD</a></div><div class="ttdeci">int MPIGatherArraynD(int, void *, double *, double *, int *, int *, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="a00204_source.html#l00021">MPIGatherArraynD.c:21</a></div></div>
<div class="ttc" id="a00089_html_a25f6a0c8fded2ee6bd9593c737bc3a51"><div class="ttname"><a href="a00089.html#a25f6a0c8fded2ee6bd9593c737bc3a51">HyPar::solnfilename_extn</a></div><div class="ttdeci">char solnfilename_extn[_MAX_STRING_SIZE_]</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00173">hypar.h:173</a></div></div>
<div class="ttc" id="a00089_html_a4e93cb107e180ef982b74cef7726b70f"><div class="ttname"><a href="a00089.html#a4e93cb107e180ef982b74cef7726b70f">HyPar::op_overwrite</a></div><div class="ttdeci">char op_overwrite[_MAX_STRING_SIZE_]</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00166">hypar.h:166</a></div></div>
<div class="ttc" id="a00104_html_a2b2826031c0cd92495ab351d3e599fc5"><div class="ttname"><a href="a00104.html#a2b2826031c0cd92495ab351d3e599fc5">_ArraySetValue_</a></div><div class="ttdeci">#define _ArraySetValue_(x, size, value)</div><div class="ttdef"><b>Definition:</b> <a href="a00104_source.html#l00142">arrayfunctions.h:142</a></div></div>
<div class="ttc" id="a00091_html_ac4c9e0736d7419f96307c6e6298d3f45"><div class="ttname"><a href="a00091.html#ac4c9e0736d7419f96307c6e6298d3f45">MPIGatherArray1D</a></div><div class="ttdeci">int MPIGatherArray1D(void *, double *, double *, int, int, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="a00203_source.html#l00026">MPIGatherArray1D.c:26</a></div></div>
<div class="ttc" id="a00089_html_a0805db42e429173752189696c3c96909"><div class="ttname"><a href="a00089.html#a0805db42e429173752189696c3c96909">HyPar::filename_index</a></div><div class="ttdeci">char * filename_index</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00169">hypar.h:169</a></div></div>
<div class="ttc" id="a00091_html_a7602de5ebb1b59ec35217e78a35a531e"><div class="ttname"><a href="a00091.html#a7602de5ebb1b59ec35217e78a35a531e">MPIVariables::ie</a></div><div class="ttdeci">int * ie</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00026">mpivars.h:26</a></div></div>
<div class="ttc" id="a00105_html_a68f50121fb9a7daeaf60e50cdef82ef3"><div class="ttname"><a href="a00105.html#a68f50121fb9a7daeaf60e50cdef82ef3">_DECLARE_IERR_</a></div><div class="ttdeci">#define _DECLARE_IERR_</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00010">basic.h:10</a></div></div>
<div class="ttc" id="a00089_html"><div class="ttname"><a href="a00089.html">HyPar</a></div><div class="ttdoc">Structure containing all solver-specific variables and functions. </div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00020">hypar.h:20</a></div></div>
<div class="ttc" id="a00105_html_ad6ab74942c9de13cf0b4c12eb0d91780"><div class="ttname"><a href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a></div><div class="ttdeci">#define IERR</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00009">basic.h:9</a></div></div>
<div class="ttc" id="a00091_html_a481013ba007a99a4237cde5eeb3c9a29"><div class="ttname"><a href="a00091.html#a481013ba007a99a4237cde5eeb3c9a29">MPIVariables::is</a></div><div class="ttdeci">int * is</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00026">mpivars.h:26</a></div></div>
<div class="ttc" id="a00089_html_a95e9e0f8a692321b83a2e0ce2789c485"><div class="ttname"><a href="a00089.html#a95e9e0f8a692321b83a2e0ce2789c485">HyPar::index</a></div><div class="ttdeci">int * index</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00077">hypar.h:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1548f4cea5254257d93790952941c351"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int WriteArrayParallel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nvars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dim_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dim_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ghosts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fname_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write a vector field, stored as an array, and its associated Cartesian grid to a file in parallel. All the MPI ranks are divided into IO groups, each with a group leader that writes out the data for the ranks in its group. The number of groups (and thus, the number of ranks participating in file I/O) is given by <a class="el" href="a00091.html#a297fca986fa3aa27de07a0c746ffaaa8">MPIVariables::N_IORanks</a>. The group leader receives the local data from each rank in its group, and writes it out to the corresponding file.</p><ul>
<li>The data is written in binary format only.</li>
<li>The number of files written is equal to the number of IO groups (<a class="el" href="a00091.html#a297fca986fa3aa27de07a0c746ffaaa8">MPIVariables::N_IORanks</a>), and are named as &lt;fname_root&gt;.bin.nnnn where "nnnn" is a string of format "%04d" representing n, 0 &lt;= n &lt; <a class="el" href="a00091.html#a297fca986fa3aa27de07a0c746ffaaa8">MPIVariables::N_IORanks</a>.</li>
<li>Each file contains the following blocks of data:<br />
 {<br />
 x0_i (0 &lt;= i &lt; dim_local[0])<br />
 x1_i (0 &lt;= i &lt; dim_local[1])<br />
 ...<br />
 x{ndims-1}_i (0 &lt;= i &lt; dim_local[ndims-1])<br />
 [u0,u1,...,u{nvars-1}]_p (0 &lt;= p &lt; N) (with no commas)<br />
 <br />
 where <br />
 x0, x1, ..., x{ndims-1} represent the spatial dimensions (for a 3D problem, x0 = x, x1 = y, x2 = z),<br />
 u0, u1, ..., u{nvars-1} are each component of the vector u at a grid point,<br />
 N = dim_local[0]*dim_local[1]*...*dim_local[ndims-1] is the total number of points,<br />
 and p = i0 + dim_local[0]*( i1 + dim_local[1]*( i2 + dim_local[2]*( ... _ i{ndims-1} )))<br />
 with i0, i1, i2, etc representing grid indices along each spatial dimension, i.e.,<br />
 0 &lt;= i0 &lt; dim_local[0]-1<br />
 0 &lt;= i1 &lt; dim_local[1]-1<br />
 ...<br />
 0 &lt;= i{ndims-1} &lt; dim_local[ndims=1]-1<br />
 }<br />
 for each rank in the corresponding group (i.e., there are <a class="el" href="a00091.html#ae68326adc3b3862f1162832f70727b06">MPIVariables::nproc</a> divided by <a class="el" href="a00091.html#a297fca986fa3aa27de07a0c746ffaaa8">MPIVariables::N_IORanks</a> such blocks in each file).</li>
<li>To stitch all the local data in these files into the global solution, and write that out to a binary file can be done by Extras/ParallelOutput.c.</li>
<li>If <a class="el" href="a00089.html#a4e93cb107e180ef982b74cef7726b70f">HyPar::op_overwrite</a> is set to 0, the vector field at the various simulation times are appended to each of the &lt;fname_root&gt;.bin.nnnn. The code Extras/ParallelOutput.c will take care of writing the global solution at each simulation time to a different file (in binary format) (the same files that <a class="el" href="a00192.html#a62e3430c806c874df7b65e9ba3da95c7">WriteArraySerial()</a> would have written out if serial file output was chosen).</li>
</ul>
<p>This approach has been observed to be very scalable (with up to ~500,000 MPI ranks). The number of MPI ranks participating in file I/O (<a class="el" href="a00091.html#a297fca986fa3aa27de07a0c746ffaaa8">MPIVariables::N_IORanks</a>) should be set to the number of I/O nodes available on a HPC platform, given the number of compute nodes the simulation is running on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndims</td><td>Number of spatial dimensions </td></tr>
    <tr><td class="paramname">nvars</td><td>Number of variables per grid point </td></tr>
    <tr><td class="paramname">dim_global</td><td>Integer array of size ndims with global grid size in each dimension </td></tr>
    <tr><td class="paramname">dim_local</td><td>Integer array of size ndims with local grid size in each dimension </td></tr>
    <tr><td class="paramname">ghosts</td><td>Number of ghost points </td></tr>
    <tr><td class="paramname">x</td><td>Array of spatial coordinates (i.e. the grid) </td></tr>
    <tr><td class="paramname">u</td><td>Vector field to write </td></tr>
    <tr><td class="paramname">s</td><td>Solver object of type <a class="el" href="a00089.html" title="Structure containing all solver-specific variables and functions. ">HyPar</a> </td></tr>
    <tr><td class="paramname">m</td><td>MPI object of type <a class="el" href="a00091.html#a00403" title="Structure of MPI-related variables. ">MPIVariables</a> </td></tr>
    <tr><td class="paramname">fname_root</td><td>Filename root (extension is added automatically). For unsteady output, a numerical index is added that is the same as for the solution output files. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00192_source.html#l00194">194</a> of file <a class="el" href="a00192_source.html">WriteArray.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="a00089.html">HyPar</a>         *solver = (<a class="code" href="a00089.html">HyPar</a>*)        s;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="a00091.html#a00403">MPIVariables</a>  *mpi    = (<a class="code" href="a00091.html#a00403">MPIVariables</a>*) m;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordtype">int</span>           proc,d;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="a00105.html#a68f50121fb9a7daeaf60e50cdef82ef3">_DECLARE_IERR_</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordtype">char</span> filename_root[<a class="code" href="a00105.html#a51efea86a4d76d1259893f606b776573">_MAX_STRING_SIZE_</a>];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  strcpy(filename_root,fname_root);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  strcat(filename_root,solver-&gt;<a class="code" href="a00089.html#a25f6a0c8fded2ee6bd9593c737bc3a51">solnfilename_extn</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (!mpi-&gt;<a class="code" href="a00091.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>) printf(<span class="stringliteral">&quot;Writing solution file %s.xxxx (parallel mode).\n&quot;</span>,filename_root);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">/* calculate size of the local grid on this rank */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordtype">int</span> sizex = 0;     <span class="keywordflow">for</span> (d=0; d&lt;ndims; d++) sizex += dim_local[d];</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordtype">int</span> sizeu = nvars; <span class="keywordflow">for</span> (d=0; d&lt;ndims; d++) sizeu *= dim_local[d];</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">/* allocate buffer arrays to write grid and solution */</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordtype">double</span> *buffer = (<span class="keywordtype">double</span>*) calloc (sizex+sizeu, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">/* copy the grid to buffer */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordtype">int</span> offset1 = 0, offset2 = 0;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">for</span> (d = 0; d &lt; ndims; d++) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="a00104.html#a89e8330d9e06dd0666c50833628a125c">_ArrayCopy1D_</a>((x+offset1+ghosts),(buffer+offset2),dim_local[d]);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    offset1 += (dim_local[d]+2*ghosts);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    offset2 +=  dim_local[d];</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">/* copy the solution */</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordtype">int</span> index[ndims];</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a> <a class="code" href="a00104.html#ac4ae1109cf287763cef63cc38d52589f">ArrayCopynD</a>(ndims,u,(buffer+sizex),dim_local,ghosts,0,index,nvars); <a class="code" href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a>(ierr);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">if</span> (mpi-&gt;<a class="code" href="a00091.html#a92096d6b87420d0e71b38c6dc5e10b14">IOParticipant</a>) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">/* if this rank is responsible for file I/O */</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">double</span> *write_buffer = NULL;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">int</span>     write_size_x, write_size_u, write_total_size;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">int</span>     is[ndims], ie[ndims];</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">/* open the file */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    FILE *out;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">int</span>  bytes;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">char</span> filename[<a class="code" href="a00105.html#a51efea86a4d76d1259893f606b776573">_MAX_STRING_SIZE_</a>];</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="a00091.html#ad9bc49863d543b6251903e9150c46a9c">MPIGetFilename</a>(filename_root,&amp;mpi-&gt;<a class="code" href="a00091.html#ae297d101be8576bfb36202ebb61085e6">IOWorld</a>,filename);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (!strcmp(solver-&gt;<a class="code" href="a00089.html#a4e93cb107e180ef982b74cef7726b70f">op_overwrite</a>,<span class="stringliteral">&quot;no&quot;</span>)) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">if</span> ((!count) &amp;&amp; (!solver-&gt;<a class="code" href="a00089.html#aafb41b96563d9966e8e9f458751f2960">restart_iter</a>)) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="comment">/* open a new file, since this function is being called the first time </span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">           and this is not a restart run*/</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        out = fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (!out) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;          fprintf(stderr,<span class="stringliteral">&quot;Error in WriteArrayParallel(): File %s could not be opened for writing.\n&quot;</span>,filename);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">/* append to existing file */</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        out = fopen(filename,<span class="stringliteral">&quot;ab&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">if</span> (!out) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          fprintf(stderr,<span class="stringliteral">&quot;Error in WriteArrayParallel(): File %s could not be opened for appending.\n&quot;</span>,filename);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="comment">/* write a new file / overwrite existing file */</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      out = fopen(filename,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">if</span> (!out) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        fprintf(stderr,<span class="stringliteral">&quot;Error in WriteArrayParallel(): File %s could not be opened for writing.\n&quot;</span>,filename);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    count++;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">/* Write own data and free buffer */</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    bytes = fwrite(buffer,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>),(sizex+sizeu),out);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (bytes != (sizex+sizeu)) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      fprintf(stderr,<span class="stringliteral">&quot;Error in WriteArrayParallel(): Failed to write data to file %s.\n&quot;</span>,filename);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    free(buffer);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">/* receive and write the data for the other processors in this IO rank&#39;s group */</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">for</span> (proc=mpi-&gt;<a class="code" href="a00091.html#aff30abd72b51ad067b03ec6d574973a1">GroupStartRank</a>+1; proc&lt;mpi-&gt;GroupEndRank; proc++) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="comment">/* get the local domain limits for process proc */</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <a class="code" href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a> <a class="code" href="a00091.html#a9a3fc32b7d4bea6a1dac44ab21c9202e">MPILocalDomainLimits</a>(ndims,proc,mpi,dim_global,is,ie);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="comment">/* calculate the size of its local data and allocate write buffer */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      write_size_x = 0;      <span class="keywordflow">for</span> (d=0; d&lt;ndims; d++) write_size_x += (ie[d]-is[d]);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      write_size_u = nvars;  <span class="keywordflow">for</span> (d=0; d&lt;ndims; d++) write_size_u *= (ie[d]-is[d]);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      write_total_size = write_size_x + write_size_u;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      write_buffer = (<span class="keywordtype">double</span>*) calloc (write_total_size, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="comment">/* receive the data */</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      MPI_Request req = MPI_REQUEST_NULL;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      MPI_Irecv(write_buffer,write_total_size,MPI_DOUBLE,proc,1449,mpi-&gt;<a class="code" href="a00091.html#adad7a6f85831f3ac84d854b6c80aef43">world</a>,&amp;req);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      MPI_Wait(&amp;req,MPI_STATUS_IGNORE);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="comment">/* write the data */</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      bytes = fwrite(write_buffer,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>),write_total_size,out);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">if</span> (bytes != write_total_size) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        fprintf(stderr,<span class="stringliteral">&quot;Error in WriteArrayParallel(): Failed to write data to file %s.\n&quot;</span>,filename);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      free(write_buffer);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">/* close the file */</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    fclose(out);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">/* all other processes, just send the data to the rank responsible for file I/O */</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    MPI_Request req = MPI_REQUEST_NULL;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    MPI_Isend(buffer,(sizex+sizeu),MPI_DOUBLE,mpi-&gt;<a class="code" href="a00091.html#a1e6b9b6dca494aa45e43214f120e6630">IORank</a>,1449,mpi-&gt;<a class="code" href="a00091.html#adad7a6f85831f3ac84d854b6c80aef43">world</a>,&amp;req);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    MPI_Wait(&amp;req,MPI_STATUS_IGNORE);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    free(buffer);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="ttc" id="a00105_html_a51efea86a4d76d1259893f606b776573"><div class="ttname"><a href="a00105.html#a51efea86a4d76d1259893f606b776573">_MAX_STRING_SIZE_</a></div><div class="ttdeci">#define _MAX_STRING_SIZE_</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00007">basic.h:7</a></div></div>
<div class="ttc" id="a00105_html_add9cf96ae374934d245a1dc1ab697a42"><div class="ttname"><a href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a></div><div class="ttdeci">#define CHECKERR(ierr)</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00011">basic.h:11</a></div></div>
<div class="ttc" id="a00091_html_a00403"><div class="ttname"><a href="a00091.html#a00403">MPIVariables</a></div><div class="ttdoc">Structure of MPI-related variables. </div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00021">mpivars.h:21</a></div></div>
<div class="ttc" id="a00091_html_a9a3fc32b7d4bea6a1dac44ab21c9202e"><div class="ttname"><a href="a00091.html#a9a3fc32b7d4bea6a1dac44ab21c9202e">MPILocalDomainLimits</a></div><div class="ttdeci">int MPILocalDomainLimits(int, int, void *, int *, int *, int *)</div><div class="ttdef"><b>Definition:</b> <a href="a00208_source.html#l00018">MPILocalDomainLimits.c:18</a></div></div>
<div class="ttc" id="a00104_html_a89e8330d9e06dd0666c50833628a125c"><div class="ttname"><a href="a00104.html#a89e8330d9e06dd0666c50833628a125c">_ArrayCopy1D_</a></div><div class="ttdeci">#define _ArrayCopy1D_(x, y, size)</div><div class="ttdef"><b>Definition:</b> <a href="a00104_source.html#l00281">arrayfunctions.h:281</a></div></div>
<div class="ttc" id="a00091_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="a00091.html#a6cfd95afd0afebd625b889fb6e58371c">MPIVariables::rank</a></div><div class="ttdeci">int rank</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00022">mpivars.h:22</a></div></div>
<div class="ttc" id="a00089_html_a25f6a0c8fded2ee6bd9593c737bc3a51"><div class="ttname"><a href="a00089.html#a25f6a0c8fded2ee6bd9593c737bc3a51">HyPar::solnfilename_extn</a></div><div class="ttdeci">char solnfilename_extn[_MAX_STRING_SIZE_]</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00173">hypar.h:173</a></div></div>
<div class="ttc" id="a00091_html_ad9bc49863d543b6251903e9150c46a9c"><div class="ttname"><a href="a00091.html#ad9bc49863d543b6251903e9150c46a9c">MPIGetFilename</a></div><div class="ttdeci">void MPIGetFilename(char *, void *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="a00206_source.html#l00020">MPIGetFilename.c:20</a></div></div>
<div class="ttc" id="a00089_html_a4e93cb107e180ef982b74cef7726b70f"><div class="ttname"><a href="a00089.html#a4e93cb107e180ef982b74cef7726b70f">HyPar::op_overwrite</a></div><div class="ttdeci">char op_overwrite[_MAX_STRING_SIZE_]</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00166">hypar.h:166</a></div></div>
<div class="ttc" id="a00091_html_ae297d101be8576bfb36202ebb61085e6"><div class="ttname"><a href="a00091.html#ae297d101be8576bfb36202ebb61085e6">MPIVariables::IOWorld</a></div><div class="ttdeci">MPI_Comm IOWorld</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00045">mpivars.h:45</a></div></div>
<div class="ttc" id="a00091_html_adad7a6f85831f3ac84d854b6c80aef43"><div class="ttname"><a href="a00091.html#adad7a6f85831f3ac84d854b6c80aef43">MPIVariables::world</a></div><div class="ttdeci">MPI_Comm world</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00034">mpivars.h:34</a></div></div>
<div class="ttc" id="a00091_html_a92096d6b87420d0e71b38c6dc5e10b14"><div class="ttname"><a href="a00091.html#a92096d6b87420d0e71b38c6dc5e10b14">MPIVariables::IOParticipant</a></div><div class="ttdeci">int IOParticipant</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00039">mpivars.h:39</a></div></div>
<div class="ttc" id="a00104_html_ac4ae1109cf287763cef63cc38d52589f"><div class="ttname"><a href="a00104.html#ac4ae1109cf287763cef63cc38d52589f">ArrayCopynD</a></div><div class="ttdeci">INLINE int ArrayCopynD(int, double *, double *, int *, int, int, int *, int)</div><div class="ttdef"><b>Definition:</b> <a href="a00104_source.html#l00355">arrayfunctions.h:355</a></div></div>
<div class="ttc" id="a00105_html_a68f50121fb9a7daeaf60e50cdef82ef3"><div class="ttname"><a href="a00105.html#a68f50121fb9a7daeaf60e50cdef82ef3">_DECLARE_IERR_</a></div><div class="ttdeci">#define _DECLARE_IERR_</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00010">basic.h:10</a></div></div>
<div class="ttc" id="a00089_html"><div class="ttname"><a href="a00089.html">HyPar</a></div><div class="ttdoc">Structure containing all solver-specific variables and functions. </div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00020">hypar.h:20</a></div></div>
<div class="ttc" id="a00105_html_ad6ab74942c9de13cf0b4c12eb0d91780"><div class="ttname"><a href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a></div><div class="ttdeci">#define IERR</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00009">basic.h:9</a></div></div>
<div class="ttc" id="a00089_html_aafb41b96563d9966e8e9f458751f2960"><div class="ttname"><a href="a00089.html#aafb41b96563d9966e8e9f458751f2960">HyPar::restart_iter</a></div><div class="ttdeci">int restart_iter</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00047">hypar.h:47</a></div></div>
<div class="ttc" id="a00091_html_a1e6b9b6dca494aa45e43214f120e6630"><div class="ttname"><a href="a00091.html#a1e6b9b6dca494aa45e43214f120e6630">MPIVariables::IORank</a></div><div class="ttdeci">int IORank</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00041">mpivars.h:41</a></div></div>
<div class="ttc" id="a00091_html_aff30abd72b51ad067b03ec6d574973a1"><div class="ttname"><a href="a00091.html#aff30abd72b51ad067b03ec6d574973a1">MPIVariables::GroupStartRank</a></div><div class="ttdeci">int GroupStartRank</div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00042">mpivars.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39266090467a28f626638e7bfc9957e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WriteArray </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nvars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dim_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dim_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ghosts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fname_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write out a vector field, stored as an array, to file: wrapper function that calls the appropriate function depending on output mode (<a class="el" href="a00089.html#a5f89e286a9eaffdb66d966fa6a290d3f">HyPar::output_mode</a>). The output file format is determined by <a class="el" href="a00089.html#a51a3b8c19b86e9e1df5be02b05a6613c">HyPar::op_file_format</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndims</td><td>Number of spatial dimensions </td></tr>
    <tr><td class="paramname">nvars</td><td>Number of variables per grid point </td></tr>
    <tr><td class="paramname">dim_global</td><td>Integer array of size ndims with global grid size in each dimension </td></tr>
    <tr><td class="paramname">dim_local</td><td>Integer array of size ndims with local grid size in each dimension </td></tr>
    <tr><td class="paramname">ghosts</td><td>Number of ghost points </td></tr>
    <tr><td class="paramname">x</td><td>Array of spatial coordinates (i.e. the grid) </td></tr>
    <tr><td class="paramname">u</td><td>Vector field to write </td></tr>
    <tr><td class="paramname">s</td><td>Solver object of type <a class="el" href="a00089.html" title="Structure containing all solver-specific variables and functions. ">HyPar</a> </td></tr>
    <tr><td class="paramname">m</td><td>MPI object of type <a class="el" href="a00091.html#a00403" title="Structure of MPI-related variables. ">MPIVariables</a> </td></tr>
    <tr><td class="paramname">fname_root</td><td>Filename root (extension is added automatically). For unsteady output, a numerical index is added that is the same as for the solution output files. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00192_source.html#l00027">27</a> of file <a class="el" href="a00192_source.html">WriteArray.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="a00089.html">HyPar</a>         *solver = (<a class="code" href="a00089.html">HyPar</a>*)       s;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="a00091.html#a00403">MPIVariables</a>  *mpi    = (<a class="code" href="a00091.html#a00403">MPIVariables</a>*)m;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="a00105.html#a68f50121fb9a7daeaf60e50cdef82ef3">_DECLARE_IERR_</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">/* if WriteOutput() is NULL, then return */</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">if</span> (!solver-&gt;<a class="code" href="a00089.html#a860eb760680191b057e06768287554be">WriteOutput</a>) <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#ifndef serial</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (!strcmp(solver-&gt;<a class="code" href="a00089.html#a5f89e286a9eaffdb66d966fa6a290d3f">output_mode</a>,<span class="stringliteral">&quot;serial&quot;</span>)) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a> <a class="code" href="a00192.html#a62e3430c806c874df7b65e9ba3da95c7">WriteArraySerial</a>(ndims,nvars,dim_global,dim_local,ghosts,x,u,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                          solver,mpi,fname_root); <a class="code" href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a>(ierr);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#ifndef serial</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a> <a class="code" href="a00192.html#a1548f4cea5254257d93790952941c351">WriteArrayParallel</a>(ndims,nvars,dim_global,dim_local,ghosts,x,u,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                            solver,mpi,fname_root); <a class="code" href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a>(ierr);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="ttc" id="a00089_html_a5f89e286a9eaffdb66d966fa6a290d3f"><div class="ttname"><a href="a00089.html#a5f89e286a9eaffdb66d966fa6a290d3f">HyPar::output_mode</a></div><div class="ttdeci">char output_mode[_MAX_STRING_SIZE_]</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00158">hypar.h:158</a></div></div>
<div class="ttc" id="a00105_html_add9cf96ae374934d245a1dc1ab697a42"><div class="ttname"><a href="a00105.html#add9cf96ae374934d245a1dc1ab697a42">CHECKERR</a></div><div class="ttdeci">#define CHECKERR(ierr)</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00011">basic.h:11</a></div></div>
<div class="ttc" id="a00091_html_a00403"><div class="ttname"><a href="a00091.html#a00403">MPIVariables</a></div><div class="ttdoc">Structure of MPI-related variables. </div><div class="ttdef"><b>Definition:</b> <a href="a00091_source.html#l00021">mpivars.h:21</a></div></div>
<div class="ttc" id="a00089_html_a860eb760680191b057e06768287554be"><div class="ttname"><a href="a00089.html#a860eb760680191b057e06768287554be">HyPar::WriteOutput</a></div><div class="ttdeci">int(* WriteOutput)(int, int, int *, double *, double *, char *, int *)</div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00176">hypar.h:176</a></div></div>
<div class="ttc" id="a00192_html_a62e3430c806c874df7b65e9ba3da95c7"><div class="ttname"><a href="a00192.html#a62e3430c806c874df7b65e9ba3da95c7">WriteArraySerial</a></div><div class="ttdeci">static int WriteArraySerial(int, int, int *, int *, int, double *, double *, void *, void *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="a00192_source.html#l00074">WriteArray.c:74</a></div></div>
<div class="ttc" id="a00105_html_a68f50121fb9a7daeaf60e50cdef82ef3"><div class="ttname"><a href="a00105.html#a68f50121fb9a7daeaf60e50cdef82ef3">_DECLARE_IERR_</a></div><div class="ttdeci">#define _DECLARE_IERR_</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00010">basic.h:10</a></div></div>
<div class="ttc" id="a00089_html"><div class="ttname"><a href="a00089.html">HyPar</a></div><div class="ttdoc">Structure containing all solver-specific variables and functions. </div><div class="ttdef"><b>Definition:</b> <a href="a00108_source.html#l00020">hypar.h:20</a></div></div>
<div class="ttc" id="a00105_html_ad6ab74942c9de13cf0b4c12eb0d91780"><div class="ttname"><a href="a00105.html#ad6ab74942c9de13cf0b4c12eb0d91780">IERR</a></div><div class="ttdeci">#define IERR</div><div class="ttdef"><b>Definition:</b> <a href="a00105_source.html#l00009">basic.h:9</a></div></div>
<div class="ttc" id="a00192_html_a1548f4cea5254257d93790952941c351"><div class="ttname"><a href="a00192.html#a1548f4cea5254257d93790952941c351">WriteArrayParallel</a></div><div class="ttdeci">static int WriteArrayParallel(int, int, int *, int *, int, double *, double *, void *, void *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="a00192_source.html#l00194">WriteArray.c:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=10897352; 
var sc_invisible=1; 
var sc_security="83042f57"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="free hit
counters" href="http://statcounter.com/free-hit-counter/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/10897352/0/83042f57/1/"
alt="free hit counters"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
